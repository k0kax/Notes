## 一、背景
直接使用IPv4编址会造成大量的IP浪费。导致IPv4资源不足。
划分子网是将IPv4地址的主机号借用几位作为子网号来进行子网划分。
## 二、子网掩码
### 原理
子网掩码由32位比特组成，可表明分类IPv4地址的主机号几位被借做子网号。
子网掩码的左起多个连续的比特1对应IPv4地址的网络号和子网号，之后的多个连续的比特0作为对应IPv4的主机号。
可通过使用IPv4地址与子网掩码逻辑或操作，计算出其子网的网络号。
![](https://raw.githubusercontent.com/k0kax/PicGo/main/images20251126111154257.png)
### 子网组成
案例：已知某个网络地址为218.75.230.0，使用子网掩码255.255.255.128进行子网划分，求其各个子网的组成

==首先，通过网络地址218可知，这是个C类网络，网络号为218.75.230==
==其子网掩码为`255.255.255.1000 0000`可知其子网划分，借用了1位主机号作为子网号==
==其可划分的子网数量为:==
$$
2^{1}
$$
==每个子网可分配的地址数量为：(去掉主机号全一的广播地址和全零的网络地址)==
$$
2^{8-1}-2=126
$$
故其子网可分为218.75.230.0和218.75.230.1，具体如下：
![](https://raw.githubusercontent.com/k0kax/PicGo/main/images20251126154725663.png)
![](https://raw.githubusercontent.com/k0kax/PicGo/main/images20251126155049017.png)
### 默认子网掩码
未划分子网的情况下使用子网掩码，也就是没有子网号，网络号全为1，主机号全为0
比如A类地址126.0.0.0的子网掩码为255.0.0.0
B类地址为255.255.0.0
C类地址为255.255.255.0
## 三、无分类编址（CIDR）
### 原理
CIDR的提出也是为了解决IPv4资源紧张的问题，
其原理是将地址分为表示网络号的**网络前缀**和主机号，**该网络前缀并不定长**。CIDR采用和IPv4配合的32位地址掩码，掩码左起多个连续的1对应网络前缀，剩余多个连续的0对应主机号，也称地址掩码。如果20位作为网络前缀，则其通过斜线记法 **“/”** 记作 **”“/20”**
举个例子，128.14.35.7/20，其中有20位网络前缀，32-20=12位主机号。

## 四、二叉树辅助
··